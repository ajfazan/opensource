CMAKE_MINIMUM_REQUIRED( VERSION 2.8.3 )

PROJECT( canvas )

SET( SOURCES image.cpp image8.cpp image16.cpp image32.cpp )

ADD_LIBRARY( canvas SHARED ${SOURCES} )

INCLUDE_DIRECTORIES( ${CMAKE_PARENT_SOURCE_DIR} $ENV{WS_INSTALL}/include )

FIND_LIBRARY( GDAL_LIBRARY gdal )

IF( GDAL_LIBRARY )
  TARGET_LINK_LIBRARIES( canvas ${GDAL_LIBRARY} )
ENDIF( GDAL_LIBRARY )

FIND_PACKAGE( CGAL REQUIRED COMPONENTS Core )

IF( CGAL_FOUND )
  INCLUDE_DIRECTORIES( ${CGAL_INCLUDE_DIRS} )
  TARGET_LINK_LIBRARIES( canvas ${CGAL_LIBRARIES} )
ENDIF( CGAL_FOUND )

FIND_PACKAGE( Boost REQUIRED COMPONENTS filesystem system )

IF( Boost_FOUND )
  INCLUDE_DIRECTORIES( ${Boost_INCLUDE_DIRS} )
  TARGET_LINK_LIBRARIES( canvas ${Boost_LIBRARIES} )
ENDIF( Boost_FOUND )

# GET_PROPERTY( DIRS DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR} PROPERTY INCLUDE_DIRECTORIES )
# FOREACH( DIR ${DIRS} )
#   MESSAGE( "${DIR}" )
# ENDFOREACH()
